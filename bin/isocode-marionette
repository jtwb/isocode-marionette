#!/usr/bin/env node

var render = require('../render');
var argv = require('optimist')
  .demand('_').argv;
var fs = require('fs');

var stdin = '';
var target_filename = argv._[0];

if (!process.stdin.isTTY) {
  stdin = fs.readFileSync('/dev/stdin').toString();
  console.log(stdin);
}

render({ dom: stdin, filename: target_filename }, function(html) {
  console.log(html)
});
